<app-HeaderPropio></app-HeaderPropio>


<button class="btn-pdf" (click)="generarPDF()">
  <img src="assets/images/pdf.png" alt="Descargar PDF" />
</button>


<section class="historia-clinica">
  <div class="titulo">
  <h2>ğŸ©º Mi Historia ClÃ­nica</h2>
  <p>VisualizÃ¡ tus atenciones mÃ©dicas registradas por los especialistas</p>
</div>


  <app-loading *ngIf="loading"></app-loading>

  <div *ngIf="!loading && historias.length > 0; else vacio" class="lista-historias">
    <div *ngFor="let h of historias" class="tarjeta">
      <div class="tarjeta-header">
        <div class="info">
          <h3>{{ h.turnos?.especialidad }}</h3>
          <span class="fecha">{{ h.turnos?.fecha | date: 'longDate':'':'es' }}</span>
        </div>
      </div>

      <div class="datos-fijos">
        <p><strong>Altura:</strong> {{ h.altura_cm }} cm</p>
        <p><strong>Peso:</strong> {{ h.peso_kg }} kg</p>
        <p><strong>Temperatura:</strong> {{ h.temperatura_c }} Â°C</p>
        <p><strong>PresiÃ³n:</strong> {{ h.presion }}</p>
      </div>

      <div *ngIf="h.extras?.length > 0" class="extras">
        <h4>ğŸ©º Datos adicionales</h4>
        <ul>
          <li *ngFor="let e of h.extras">
            <strong>{{ e.clave }}:</strong> {{ e.valor }}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <ng-template #vacio>
    <p class="vacio">ğŸ•³ï¸ AÃºn no tenÃ©s registros en tu historia clÃ­nica.</p>
  </ng-template>
</section>
